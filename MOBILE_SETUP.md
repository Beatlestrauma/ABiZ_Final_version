# BizAI Mobile App Setup Guide

## Prerequisites
- Node.js 16+ installed
- Android SDK installed and configured
- Java Development Kit (JDK) 11+
- Android Studio (recommended)

## Step 1: Build the Frontend

```bash
cd frontend
npm install
npm run build
```

## Step 2: Initialize Capacitor

```bash
cd ..
npm install @capacitor/cli @capacitor/core @capacitor/android
npx cap init
```

When prompted:
- App name: `BizAI`
- App Package ID: `com.bizai.app`
- Website URL: `https://bizai.app` (or your domain)
- Folder for web assets: `frontend/dist`

## Step 3: Add Android Platform

```bash
npx cap add android
```

## Step 4: Install Dependencies

```bash
cd android
./gradlew build
cd ..
```

## Step 5: Configure Backend API

Update your environment to connect to your backend:
1. Update API endpoints in your app to use your backend URL
2. Configure CORS on your backend server
3. Update API proxy in `frontend/vite.config.mts` if needed

For local development:
```javascript
// Use actual backend URL in mobile app (not localhost)
const API_BASE_URL = 'https://your-backend-domain.com/api';
```

## Step 6: Build APK

### Debug APK (for testing)
```bash
npx cap build android --keystorepath ./android/debug.keystore --keystorepassword android --keystorealias androiddebugkey --keystorealiaspassword android
```

Or use Android Studio:
1. Open `android` folder in Android Studio
2. Go to Build → Build Bundle(s) / APK(s) → Build APK(s)
3. Find APK in `android/app/build/outputs/apk/debug/`

### Release APK (for production)
1. Generate a keystore:
```bash
keytool -genkey -v -keystore release.keystore -alias release -keyalg RSA -keysize 2048 -validity 10000
```

2. Build release APK:
```bash
npx cap build android --keystorepath ./release.keystore --keystorepassword YOUR_PASSWORD --keystorealias release --keystorealiaspassword YOUR_PASSWORD
```

## Step 7: Install on Device/Emulator

```bash
adb install path/to/app-debug.apk
```

Or install from Android Studio:
1. Connect your device or start an emulator
2. Run → Run 'app'

## Project Structure

```
frontend/
├── src/
│   ├── capacitor-init.js      # Capacitor initialization
│   ├── mobile-styles.css      # Mobile-specific styles
│   └── ...
├── vite.config.mts
└── package.json

android/                        # Generated by Capacitor
├── app/
│   ├── src/main/AndroidManifest.xml
│   └── ...
└── build.gradle

capacitor.config.ts            # Capacitor configuration
```

## Features Enabled

✅ App Back Button Navigation
✅ App Pause/Resume Handling
✅ Safe Area Support (Notches & Gestures)
✅ Touch Optimization
✅ Performance Optimization
✅ Splash Screen
✅ Status Bar Integration
✅ Network Detection
✅ All React Components Working

## Important Notes

1. **API Endpoints**: Update all API calls to use your actual backend URL, not localhost
2. **Permissions**: Update `android/app/src/main/AndroidManifest.xml` with required permissions
3. **Icons & Splash**: Replace default icons in `android/app/src/main/res/`
4. **Testing**: Always test on real device for best results
5. **Build Size**: Initial APK will be ~20-30MB (depends on dependencies)

## Common Issues

### App Shows Blank Screen
- Check console logs: `adb logcat | grep chromium`
- Ensure backend API is reachable from device
- Check network permissions in manifest

### API Calls Failing
- Verify backend URL is not localhost
- Check CORS headers on backend
- Ensure network permission in manifest: `<uses-permission android:name="android.permission.INTERNET" />`

### Build Fails
- Update gradle: `cd android && ./gradlew wrapper --gradle-version 8.0`
- Clear cache: `cd android && ./gradlew clean`

## Next Steps

1. Update icons and splash screen images
2. Configure Android manifest permissions
3. Test on multiple devices
4. Implement analytics if needed
5. Publish to Google Play Store

For detailed Capacitor docs: https://capacitorjs.com/docs
